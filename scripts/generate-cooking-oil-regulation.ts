#!/usr/bin/env tsx

/**
 * Generates the regulation JSON for the Athens cooking oil collection bin consultation.
 * Data extracted from the municipal PDF document.
 *
 * Usage: npx tsx scripts/generate-cooking-oil-regulation.ts
 */

import fs from 'fs';
import path from 'path';

// Addresses per Δημοτική Κοινότητα, extracted from the PDF
const communities: Array<{ num: number; color: string; addresses: string[] }> = [
  {
    num: 1,
    color: '#E63946',
    addresses: [
      'ΣΚΟΥΦΑ 55-57',
      'Π. ΙΩΑΚΕΙΜ 42',
      'ΠΛΟΥΤΑΡΧΟΥ 13',
      'ΚΑΡΝΕΑΔΟΥ 29 & ΠΛΟΥΤΑΡΧΟΥ',
      'ΣΚΟΥΦΑ & ΓΡΙΒΕΩΝ',
      'ΣΠΕΥΣΙΠΠΟΥ & ΧΑΡΙΤΟΣ',
      'ΗΡΟΔΟΤΟΥ & ΛΕΒΕΝΤΗ',
      'ΞΕΝΟΚΡΑΤΟΥΣ ΕΝ. 17-19',
      'ΜΗΤΡΟΠΟΛΕΩΣ 48',
      'ΚΟΛΟΚΟΤΡΩΝΗ & ΒΑΣΙΛΙΚΗΣ',
      'ΑΘΗΝΑΣ 16 (ΜΑΣΟΥΤΗΣ)',
      'ΑΙΟΛΟΥ & ΑΝΔΡΙΑΝΟΥ',
      'ΠΛ. ΚΑΝΙΓΓΟΣ',
      'ΙΠΠΟΚΡΑΤΟΥΣ & ΔΙΔΟΤΟΥ',
      'ΜΠΕΝΑΚΗ & ΒΑΛΤΕΤΣΙΟΥ',
      'ΠΛ. ΚΑΡΑΒΕΛΑ',
      'ΧΑΤΖ. ΜΕΞΗ & ΣΙΣΙΝΗ',
      'ΔΙΟΧΑΡΟΥΣ & ΟΥΜΠΛΙΑΝΗΣ',
      'ΕΡΜΟΥ & ΑΡΙΩΝΟΣ',
      'ΠΛΑΤΕΙΑ ΚΟΥΜΟΥΝΔΟΥΡΟΥ (ΕΝΑΝΤΙ ΕΥΡΙΠΙΔΟΥ)',
      'ΔΗΛΙΓΙΑΝΝΗ 1-3 (ΕΝΑΝΤΙ ΠΛΑΤΕΙΑΣ ΚΑΡΑΪΣΚΑΚΗ)',
      'ΠΛΑΤΩΜΑ WYNDHAM GRAND HOTEL (ΑΧΙΛΛΕΩΣ)',
      'ΠΛΑΤΕΙΑ ΗΡΩΩΝ',
      'ΒΕΙΚΟΥ & ΔΡΑΚΟΥ',
      'ΔΗΜΗΤΡΑΚΟΠΟΥΛΟΥ & ΔΡΑΚΟΥ',
      'ΦΑΛΗΡΟΥ & ΔΡΑΚΟΥ',
      'ΒΕΙΚΟΥ & ΟΛΥΜΠΙΟΥ',
      'ΔΗΜΗΤΡΑΚΟΠΟΥΛΟΥ & ΟΛΥΜΠΙΟΥ',
      'ΒΕΙΚΟΥ 1',
      'ΦΑΡΩΝ & ΑΓΙΟΥ ΠΑΥΛΟΥ',
      'ΑΧΑΡΝΩΝ & ΛΙΟΣΙΩΝ',
      'ΑΧΑΡΝΩΝ & ΑΒΕΡΩΦ',
      'ΑΧΑΡΝΩΝ 39',
      'ΚΑΡΟΛΟΥ 26',
      'ΟΔΟΣ ΑΣΚΛΗΠΙΟΥ & ΤΣΙΜΙΣΚΗ',
      'ΟΔΟΣ ΔΕΙΝΟΚΡΑΤΟΥΣ (Ν.Ν.Α.)',
      'ΒΑΣ. ΑΛΕΞΑΝΔΡΟΥ & ΒΡΑΣΙΔΑ',
      'ΜΑΡΑΣΛΗ & ΠΑΤΕΡΑ',
    ],
  },
  {
    num: 2,
    color: '#457B9D',
    addresses: [
      'ΒΟΛΤΑΙΡΟΥ & ΝΤΕΚΑΡΤ',
      'ΚΑΣΟΜΟΥΛΗ & ΜΑΣΤΡΑΧΑ',
      'ΚΑΣΟΜΟΥΛΗ 104',
      'ΚΑΣΟΜΟΥΛΗ & Ρ. ΠΥΩ',
      'ΧΕΛΝΤΡΑΙΧ & ΦΡΕΙΔ. ΣΜΙΘ (LIDL)',
      'ΑΣΠΡΟΓΕΡΑΚΑ & ΡΟΥΜΠΕΣΗ',
      'ΦΡΑΝΤΖΗ & ΘΑΡΥΠΟΥ',
      'ΥΜΗΤΤΟΥ & ΙΦΙΚΡΑΤΟΥΣ',
      'ΠΛ. ΠΛΥΤΑ (ΑΡΥΒΒΟΥ)',
      'ΠΡΟΦ. ΗΛΙΑΣ',
      'ΥΜΗΤΤΟΥ & ΚΑΦΑΝΤΑΡΗ',
      'ΜΕΛΑΝΙΠΠΙΔΟΥ & ΣΑΡΩΓΛΟΥ',
      'ΑΝΑΠΑΥΣΕΩΣ & ΑΡΔΗΤΤΟΥ',
      'ΠΛ. ΒΑΡΝΑΒΑ & ΜΕΛΙΣΣΟΥ',
      'ΑΡΧΙΜΗΔΟΥΣ 14',
      'ΑΜΥΝΤΑ & ΑΡΡΙΑΝΟΥ',
      'ΙΦΙΚΡΑΤΟΥΣ 7 & ΥΜΗΤΤΟΥ',
      'ΕΥΤΥΧΙΔΟΥ 32',
      'ΒΑΣ. ΑΛΕΞΑΝΔΡΟΥ & ΒΡΑΣΙΔΑ',
      'ΠΛ. ΑΜΦΙΚΡΑΤΟΥΣ',
      'ΥΜΗΤΤΟΥ & ΧΡΕΜΩΝΙΔΟΥ',
      'ΠΛ. ΒΑΡΝΑΒΑ',
      'ΠΛ. ΠΡΟΦ. ΗΛΙΑ',
      'ΤΙΜΟΣΘΕΝΟΥΣ & ΣΠΙΝΘΑΡΟΥ',
      'ΙΠΠΑΡΧΟΥ & ΣΩΣΤΡΑΤΟΥ',
      'ΒΡΕΣΘΕΝΗΣ & ΙΓΓΛΕΣΗ',
      'ΡΗΓΙΛΛΗΣ-ΛΕΣΧΗ ΑΞΙΩΜΑΤΙΚΩΝ',
    ],
  },
  {
    num: 3,
    color: '#2A9D8F',
    addresses: [
      'ΠΕΛΛΗΣ & ΚΟΡΥΤΣΑΣ',
      'ΜΕΛΕΝΙΚΟΥ & ΠΡΟΦΗΤΟΥ ΔΑΝΙΗΛ',
      'ΑΙΓΑΛΕΩ & ΑΓΙΟΥ ΠΟΛΥΚΑΡΠΟΥ (ΤΡΙΓΩΝΑΚΙ)',
      'ΠΛΑΤΕΙΑ ΔΟΥΡΟΥΤΗ',
      'ΠΛΑΤΑΙΩΝ 51 (MY MARKET)',
      'ΑΓΙΩΝ ΑΣΩΜΑΤΩΝ ΠΛΑΤΕΙΑ (ΔΙΠΛΑ ΣΤΟΥΣ ΒΥΘΙΖΟΜΕΝΟΥΣ)',
      'ΠΛΑΤΕΙΑ ΚΕΡΑΜΕΙΚΟΥ',
      'ΣΤΡΑΤΟΝΙΚΗΣ & ΕΛΑΣΙΔΩΝ',
      'ΠΛΑΤΕΙΑ ΗΟΥΣ (2 ΚΑΔΟΥΣ)',
      'ΠΛΑΤΕΙΑ ΑΓΙΑΣ ΑΙΚΑΤΕΡΙΝΗΣ ΕΠΙ ΤΗΣ ΗΟΥΣ (2 ΚΑΔΟΥΣ)',
      'ΘΕΣΣΑΛΟΝΙΚΗΣ ΣΤΟ ΣΤΑΘΜΟ ΝΕΦΕΛΗΣ 1 (2 ΚΑΔΟΥΣ)',
      'ΠΛΑΤΕΙΑ ΜΕΡΚΟΥΡΗ',
      'ΚΑΛΛΙΣΘΕΝΟΥΣ 60',
      'ΤΡΩΩΝ & ΤΡΙΤΩΝΟΣ',
      'ΝΗΛΕΩΣ & ΗΡΑΚΛΕΙΔΩΝ',
      'ΤΡΙΩΝ ΙΕΡΑΡΧΩΝ ΕΝ 168',
      'ΗΡΑΚΛΕΙΔΩΝ 11-13',
      'ΕΡΙΣΥΧΘΩΝΟΣ & ΗΡΑΚΛΕΙΔΩΝ',
      'ΑΧΑΙΩΝ & ΚΑΛΛΙΣΘΕΝΟΥΣ',
      'ΛΑΓΚΑΔΑ & ΣΠΥΡΟΥ ΠΑΤΣΗ',
      'ΚΑΣΤΟΡΙΑΣ & ΚΑΣΣΑΝΔΡΑΣ',
      'ΣΠΥΡΟΥ ΠΑΤΣΗ & ΚΟΡΥΤΣΑΣ',
      'ΣΕΡΑΦΕΙΟ',
    ],
  },
  {
    num: 4,
    color: '#E9C46A',
    addresses: [
      'ΙΩΑΝΝΙΝΩΝ & ΔΡΑΜΑΣ',
      'ΛΕΝΟΡΜΑΝ 129 (Σ. ΜΑΡΚΕΤ ΓΑΛΑΞΙΑΣ)',
      'ΛΕΝΟΡΜΑΝ 226 (Σ. Μ. ΣΚΛΑΒΕΝΙΤΗΣ)',
      'ΤΗΛΕΦΑΝΟΥΣ 8',
      'ΛΕΝΟΡΜΑΝ & ΚΛΕΟΒΙΔΟΣ (ΔΙΠΛΑ ΣΤΟΝ ΚΑΔΟ ΡΟΥΧΩΝ)',
      'ΙΦΙΓΕΝΕΙΑΣ & ΛΕΑΝΔΡΟΥ',
      'ΚΡΕΟΝΤΟΣ & ΕΛΛΗΣΠΟΝΤΟΥ',
      'ΑΝΤΙΓΟΝΗΣ 201 & ΚΡΕΟΝΤΟΣ',
      'ΑΥΛΩΝΟΣ & ΑΘΑΝΑΤΩΝ',
      'ΣΕΠΟΛΙΩΝ ΕΝΑΝΤΙ 76 (ΑΓΙΟΣ ΜΕΛΕΤΗΣ)',
      'ΑΥΛΩΝΟΣ ΕΝΑΝΤΙ 142 (Σ. ΜΑΡΚΕΤ ΓΑΛΑΞΙΑΣ)',
      'ΔΡΑΜΑΣ & ΠΡΟΠΟΝΤΙΔΟΣ (ΠΛΑΤΕΙΑ ΟΡΘΟΔΟΞΙΑΣ)',
      'ΠΑΡΑΣΚΕΥΟΠΟΥΛΟΥ & Μ. ΚΟΡΑΚΑ (ΣΧΟΛΕΙΑ)',
      'ΛΙΟΣΙΩΝ 197',
      'ΠΥΡΛΑ & ΠΡΕΤΕΝΤΕΡΗ',
      'ΣΤΡ. ΔΑΓΚΛΗ 81 & ΣΤΡ. ΚΑΛΛΑΡΗ',
      'Λ. ΙΩΝΙΑΣ & ΣΕΡΑΦΗ',
      'Λ. ΙΩΝΙΑΣ & ΚΡΙΤΟΒΟΥΛΙΔΟΥ',
      'ΣΕΡΑΦΗ & ΧΟΡΤΑΤΖΗ (ΑΓΙΟΣ ΜΑΡΚΟΣ)',
      'ΔΕΜΕΡΤΖΗ & ΠΑΠΑΝΑΣΤΑΣΙΟΥ (Σ. ΜΑΡΚΕΤ ΑΒ)',
      'ΠΛΑΤΩΝΟΣ & ΠΑΛΑΜΗΔΙΟΥ',
      'ΠΛΑΤΕΙΑ ΑΓΙΟΥ ΓΕΩΡΓΙΟΥ (ΠΛΑΤΩΝΟΣ)',
      'ΤΗΛΕΦΑΝΟΥΣ & ΜΟΝΑΣΤΗΡΙΟΥ (ΨΗΦΙΑΚΟ ΜΟΥΣΕΙΟ)',
      'ΖΗΝΟΔΩΡΟΥ 3 & ΑΜΦΙΑΡΑΟΥ (ΚΙΒΩΤΟΣ)',
      'ΑΣΤΡΟΥΣ & ΠΑΛΑΜΗΔΙΟΥ (Σ. ΜΑΡΚΕΤ ΓΑΛΑΞΙΑΣ)',
      'ΠΕΖΟΔΡΟΜΟΣ ΚΕΡΑΤΣΙΝΙΟΥ (ΣΧΟΛΕΙΟ)',
      'ΑΛΕΞΑΝΔΡΕΙΑΣ ΕΝΑΝΤΙ 87 & ΜΑΡΑΘΩΝΟΜΑΧΩΝ (ΑΓΙΟΣ ΤΡΥΦΩΝΑΣ)',
      'ΚΑΛΑΜΑ & ΓΡΑΜΜΟΥ',
      'ΔΩΔΩΝΗΣ & ΑΘΑΝΑΤΩΝ (SUPER MARKET)',
      'ΙΩΝΙΑΣ & ΨΑΡΟΥΔΑΚΗ',
      'ΑΣΤΡΟΥΣ & ΑΙΜΩΝΟΣ',
    ],
  },
  {
    num: 5,
    color: '#F4A261',
    addresses: [
      'ΑΧΑΡΝΩΝ & ΙΩΝΙΑΣ',
      'ΑΧΑΡΝΩΝ & ΒΙΚΕΛΑ',
      'ΑΧΑΡΝΩΝ & ΙΑΚΩΒΙΔΟΥ',
      'ΧΑΛΚΙΔΟΣ & ΙΩΝΙΑΣ',
      'ΤΣΟΥΝΤΑ & ΚΟΥΡΤΙΔΟΥ',
      'ΔΟΞΑΡΑ & ΤΥΡΙΝΘΟΣ',
      'ΚΟΥΡΤΙΔΟΥ & ΟΘ. ΣΤΑΘΑΤΟΥ',
      'ΣΙΒΟΡΩΝ ΕΝ 91',
      'ΜΑΡΚΟΡΑ 24-26',
      'ΚΑΛΟΣΓΟΥΡΟΥ & ΠΛΑΤΕΙΑ ΠΑΠΑΔΙΑΜΑΝΤΗ',
      'ΑΜΥΚΛΩΝ 7',
      'ΓΕΩΡΓΟΥΛΙΑ 10-12',
      'ΚΡΩΜΝΗΣ 2-4',
      'ΑΓΙΑΣ ΛΑΥΡΑΣ 13-15',
      'ΠΑΤΗΣΙΩΝ 240',
      'ΠΑΤΗΣΙΩΝ 340',
      'ΠΑΤΗΣΙΩΝ 380',
      'Λ. ΗΡΑΚΛΕΙΟΥ 32',
      'ΑΓΙΟΥ ΛΟΥΚΑ 41',
      'ΙΑΚΩΒΑΤΩΝ 11',
      'ΙΑΚΩΒΑΤΩΝ & Φ. ΠΟΛΙΤΗ',
      'ΝΙΚΟΠΟΛΕΩΣ 32',
      'ΧΡ. ΣΜΥΡΝΗΣ & Λ. ΙΩΝΙΑΣ',
      'ΠΑΤΗΣΙΩΝ 347',
      'ΠΑΤΗΣΙΩΝ 316',
      'ΠΑΤΗΣΙΩΝ 354',
      'ΠΑΤΗΣΙΩΝ 351',
      'ΠΑΤΗΣΙΩΝ 339',
      'ΑΧΑΡΝΩΝ 421-423',
      'ΤΡΑΛΛΕΩΝ 74',
    ],
  },
  {
    num: 6,
    color: '#264653',
    addresses: [
      'ΑΧΑΡΝΩΝ & ΑΓΙΟΥ ΝΙΚΟΛΑΟΥ',
      'ΠΛΑΤΕΙΑ ΑΜΕΡΙΚΗΣ',
      'ΠΛΑΤΕΙΑ ΚΑΜΠΑΝΗ 1',
      'ΑΧΑΡΝΩΝ 167',
      'ΠΛΑΤΕΙΑ ΑΤΤΙΚΗΣ',
      'ΠΛΑΤΕΙΑ ΒΙΚΤΩΡΙΑΣ',
      'ΑΓΙΟΣ ΠΑΝΤΕΛΕΗΜΟΝΑΣ',
      'ΦΩΚΙΩΝΟΣ ΝΕΓΡΗ & ΣΚΥΡΟΥ',
      'ΦΩΚΙΩΝΟΣ ΝΕΓΡΗ & ΕΠΤΑΝΗΣΟΥ',
      'ΙΘΑΚΗΣ 10',
      'ΔΟΙΡΑΝΗΣ 1 & ΕΥΕΛΠΙΔΩΝ',
      'ΚΥΨΕΛΗΣ & ΖΑΚΥΝΘΟΥ',
      'ΔΡΟΣΟΠΟΥΛΟΥ & ΦΩΚΙΩΝΟΣ ΝΕΓΡΗ',
      'ΚΑΥΚΑΣΟΥ & ΚΡΙΣΣΗΣ',
      'ΑΜΟΡΓΟΥ & ΑΓΙΑΣ ΖΩΝΗΣ',
      'ΜΗΘΥΜΝΗΣ & ΑΓΙΑΣ ΖΩΝΗΣ',
      'ΚΑΛΛΙΦΡΟΝΑ & ΑΓΙΑΣ ΖΩΝΗΣ',
      'ΤΖΟΥΜΑΓΙΑΣ ΕΝΑΝΤΙ 15',
      'ΚΥΨΕΛΗΣ & ΡΗΝΕΙΑΣ',
      'ΑΧΑΡΝΩΝ 203',
      'ΦΩΚΙΩΝΟΣ ΝΕΓΡΗ & ΠΛ. ΚΥΨΕΛΗΣ',
      'ΑΧΑΡΝΩΝ & ΛΑΡΝΑΚΟΣ',
      'ΒΕΛΒΕΝΔΟΥ & ΠΛ. ΚΥΨΕΛΗΣ',
      'ΑΧΑΡΝΩΝ 320',
      'ΑΧΑΡΝΩΝ & ΚΥΜΗΣ',
    ],
  },
  {
    num: 7,
    color: '#6A4C93',
    addresses: [
      'ΠΛΑΤΕΙΑ ΓΚΥΖΗ & ΛΙΑΚΑΤΑΙΩΝ',
      'ΔΗΜΗΤΣΑΝΑΣ & ΚΟΡΩΝΙΑΣ',
      'Λ. ΑΛΕΞΑΝΔΡΑΣ & ΣΟΥΤΣΟΥ',
      'ΒΑΛΤΙΝΩΝ & ΚΑΛΛΙΓΑ',
      'ΛΟΥΚΑΡΕΩΣ & ΚΑΛΒΟΥ',
      'ΜΗΤΡΟΠΕΤΡΟΒΑ ΕΝΑΝΤΙ 38-42',
      'ΒΑΦΕΙΟΔΩΡΙΟΥ & ΒΙΘΥΝΙΑΣ',
      'ΒΕΡΝΑΡΔΑΚΗ & ΣΟΛΙΩΤΗ',
      'ΤΡΙΓΩΝΟ ΠΑΜΟΡΜΟΥ & ΡΙΑΝΚΟΥΡ',
      'ΠΛΑΤΕΙΑ ΑΓ. ΔΗΜΗΤΡΙΟΥ',
      'ΠΛΑΤΕΙΑ ΧΑΙΡΟΠΟΥΛΟΥ',
      'ΠΛΑΤΕΙΑ ΕΠΩΝ',
      'ΠΑΓΚΑ ΕΝ 24',
      'ΜΠΑΚΟΥ & ΧΑΤΖΟΠΟΥΛΟΥ',
      'ΛΑΜΨΑ & ΤΡΙΦΥΛΛΙΑΣ',
      'ΠΗΝΕΛΟΠΗΣ ΔΕΛΤΑ (ΠΛΕΥΡΑ ΠΛΑΤΕΙΑΣ)',
      'ΑΔΡΙΑΝΕΙΟΥ & ΣΙΚΕΛΙΑΝΟΥ',
      'ΕΡΥΘΡΟΥ ΣΤΑΥΡΟΥ 16',
      'ΜΥΛΟΠΟΤΑΜΟΥ & ΤΣΟΤΑΚΟΥ',
      'ΠΕΡΙΚΛΗ ΣΤΑΥΡΟΥ ΕΝΑΝΤΙ 9 (ΠΕΖ/ΜΙΟ ΠΛΑΤΕΙΑΣ)',
      'ΧΑΛΚΗΔΟΝΟΣ & ΜΠΟΝΑΝΟΥ',
      'ΛΕΒΑΔΕΙΑΣ 2',
      'Μ. ΑΣΙΑΣ 33',
      'ΔΗΜΗΤΡΙΟΥ ΣΟΥΤΣΟΥ 33',
      'ΚΟΡΙΝΘΙΑΣ & ΚΟΡΩΝΕΙΑΣ',
      'Λ. ΑΛΕΞΑΝΔΡΑΣ & ΛΟΥΚΑΡΕΩΣ',
      'Λ. ΑΛΕΞΑΝΔΡΑΣ & ΒΟΥΡΝΑΖΟΥ',
      'ΒΟΥΡΝΑΖΟΥ 3',
      'ΛΟΥΚΑΡΕΩΣ & ΚΑΛΒΟΥ (ΟΠΙΣΘΕΝ ΚΑΔΩΝ Λ. ΑΛΕΞΑΝΔΡΑΣ)',
      'Λ. ΑΛΕΞΑΝΔΡΑΣ 83',
      'ΚΟΥΜΑΝΟΥΔΗ 2 & Λ. ΑΛΕΞΑΝΔΡΑΣ',
      'ΘΕΡΙΑΝΟΥ 14 & ΜΟΥΣΤΟΞΥΔΗ',
      'ΟΙΧΑΛΙΑΣ 1 & ΠΛ. ΓΚΥΖΗ',
      'ΠΑΝΟΡΜΟΥ 33 & ΚΕΔΡΗΝΟΥ',
      'ΚΕΔΡΗΝΟΥ & ΔΗΜΗΤΣΑΝΑΣ',
      'ΜΟΜΦΕΡΑΤΟΥ & ΔΡΟΣΗ',
    ],
  },
];

function toId(address: string, communityNum: number, index: number): string {
  // Generate a clean, unique ID from the address
  const base = address
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '') // strip diacritics
    .replace(/[^A-Za-z0-9\s]/g, '') // remove non-alphanumeric
    .trim()
    .replace(/\s+/g, '_')
    .toLowerCase()
    .substring(0, 40);
  return `dk${communityNum}_${String(index + 1).padStart(2, '0')}_${base || 'point'}`;
}

function generateRegulation() {
  const regulation: any = {
    title:
      'Χωροθέτηση θέσεων τοποθέτησης κάδων συλλογής βρώσιμων φυτικών ελαίων και λιπών (τηγανελαίων) στις 7 Δημοτικές Κοινότητες του Δήμου Αθηναίων',
    summary:
      'Πρόταση για την εγκατάσταση δικτύου **230 ειδικών κάδων** συλλογής τηγανελαίων στις 7 Δημοτικές Κοινότητες του Δήμου Αθηναίων. Σε κάθε θέση θα τοποθετηθούν 1-2 κάδοι. Δείτε τις προτεινόμενες τοποθεσίες στον χάρτη: {REF:dk_1}, {REF:dk_2}, {REF:dk_3}, {REF:dk_4}, {REF:dk_5}, {REF:dk_6}, {REF:dk_7}.',
    contactEmail: 't.enallaktikis.diax.apovliton@athens.gr',
    sources: [
      {
        title: 'Εισηγητικό Χωροθέτησης Θέσεων',
        url: 'https://www.cityofathens.gr/wp-content/uploads/2026/02/eisigitiko-chorothetisi-theseon-topothetisis-kadon-syllogis-vrosimon-fytikon-elaion.pdf',
        description:
          'Το πλήρες εισηγητικό έγγραφο με τις προτεινόμενες θέσεις ανά Δημοτική Κοινότητα',
      },
      {
        title: 'Δημοσίευση Διαβούλευσης',
        url: 'https://www.cityofathens.gr/diavoyleysi-gia-tin-chorothetisi-these/',
        description: 'Η σελίδα της δημόσιας διαβούλευσης στον ιστότοπο του Δήμου Αθηναίων',
      },
    ],
    defaultVisibleGeosets: [
      'dk_1',
      'dk_2',
      'dk_3',
      'dk_4',
      'dk_5',
      'dk_6',
      'dk_7',
    ],
    regulation: [] as any[],
  };

  // Chapter 1: Proposal overview
  regulation.regulation.push({
    type: 'chapter',
    num: 1,
    id: 'eisigitiko',
    title: 'Εισηγητικό',
    summary:
      'Πρόταση της Δ/νσης Καθαριότητας - Ανακύκλωσης για χωροθέτηση 230 θέσεων κάδων συλλογής τηγανελαίων.',
    articles: [
      {
        num: 1,
        id: 'nomiko-plaisio',
        title: 'Νομικό Πλαίσιο & Αποφάσεις',
        summary:
          'Αποφάσεις Δημοτικών Κοινοτήτων και Δημοτικού Συμβουλίου που αποτελούν τη βάση της πρότασης.',
        body: `Η πρόταση βασίζεται στις ακόλουθες αποφάσεις:

1. Απόφαση 167/03.02.2025 της **1ης Δημοτικής Κοινότητας** (ΑΔΑ: 9ΠΩ5Ω6Μ-ΠΦΦ)
2. Απόφαση 23/06.02.2025 της **2ης Δημοτικής Κοινότητας** (ΑΔΑ: 9ΕΓΧΩ6Μ-ΥΥΙ)
3. Απόφαση 42/18.02.2025 της **3ης Δημοτικής Κοινότητας** (ΑΔΑ: Ψ3ΘΧΩΞΜ-99Γ)
4. Απόφαση 20/17.02.2025 της **4ης Δημοτικής Κοινότητας** (ΑΔΑ: 91Γ3Ω6Μ-ΧΥΑ)
5. Απόφαση 22/27.02.2025 της **5ης Δημοτικής Κοινότητας** (ΑΔΑ: 9ΧΛΗΩ6Μ-ΤΨ7)
6. Απόφαση 30/12.03.2025 της **6ης Δημοτικής Κοινότητας** (ΑΔΑ: 9Θ69Ω6Μ-Δ6Μ)
7. Απόφαση 22/20.02.2025 της **7ης Δημοτικής Κοινότητας** (ΑΔΑ: ΡΡΤΕΩ6Μ-ΝΜ6)
8. Απόφαση 92677/08.02.2024 της Εκτιμητικής Επιτροπής (άρθρο 186 παρ. 5 Ν.3463/2006)
9. Απόφαση 694/25.11.2024 του Δημοτικού Συμβουλίου (ΑΔΑ: ΨΔΖΩ6Μ-43Ω) για τη διεξαγωγή πρόχειρου προφορικού πλειοδοτικού διαγωνισμού
10. Νόμοι: Ν.4555/2018 «ΚΛΕΙΣΘΕΝΗΣ Ι», Ν.3852/2010 «Καλλικράτης», Ν.5056/2023`,
      },
      {
        num: 2,
        id: 'protasi',
        title: 'Πρόταση Χωροθέτησης',
        summary:
          'Πρόταση για εγκατάσταση 230 κάδων τηγανελαίων σε 7 Δημοτικές Κοινότητες.',
        body: `Η Δ/νση Καθαριότητας – Ανακύκλωσης αποστέλλει προς έγκριση **230 θέσεις** χωροθέτησης κάδων συλλογής βρώσιμων φυτικών ελαίων και λιπών (τηγανελαίων) στις 7 Δημοτικές Κοινότητες.

Η αρχική απόφαση (694/25.11.2024) προέβλεπε δίκτυο **150 κάδων**. Ωστόσο, για την καλύτερη εξυπηρέτηση και αποφυγή συνεχών τροποποιήσεων, εισηγείται η χωροθέτηση **230 θέσεων**.

Σε κάθε θέση θα τοποθετηθούν **1 έως 2 κάδοι**.

Οι προτεινόμενες θέσεις ανά Δημοτική Κοινότητα:
- {REF:dk_1}: 38 θέσεις
- {REF:dk_2}: 27 θέσεις
- {REF:dk_3}: 23 θέσεις
- {REF:dk_4}: 31 θέσεις
- {REF:dk_5}: 30 θέσεις
- {REF:dk_6}: 25 θέσεις
- {REF:dk_7}: 36 θέσεις

Η ροή τηγανελαίων είναι συνεχώς εξελισσόμενη. Αποφεύγεται η ταφή τους σε ΧΥΤΑ, προωθείται η περιβαλλοντική ευαισθητοποίηση, και ο Δήμος εναρμονίζεται με το εγκεκριμένο ΕΣΔΑ και το τοπικό Σχέδιο Διαχείρισης Αποβλήτων.`,
      },
      {
        num: 3,
        id: 'diavoulefsi',
        title: 'Όροι Διαβούλευσης',
        summary:
          'Χρονικό πλαίσιο και τρόπος υποβολής παρατηρήσεων.',
        body: `Η διαβούλευση διαρκεί **7 ημέρες** (11-18 Φεβρουαρίου 2026).

**Προθεσμία υποβολής:** Τετάρτη 18 Φεβρουαρίου 2026, ώρα 09:00.

**Τρόποι υποβολής προτάσεων:**
- **Email:** t.enallaktikis.diax.apovliton@athens.gr
- **Αυτοπροσώπως:** Δημοτική Επιτροπή, Λιοσίων 22, 6ος Όροφος, τηλ. 210 5277432

**Αρμόδια Υπηρεσία:** Δ/νση Καθαριότητας - Ανακύκλωσης, Τμήμα Εναλλακτικής Διαχείρισης Αποβλήτων, Ιερά Οδός 151, τηλ. 210 3402446

Μετά το πέρας της διαβούλευσης, η Δ/νση Καθαριότητας - Ανακύκλωσης θα επεξεργαστεί τα σχόλια και θα οριστικοποιήσει την πρόταση.`,
      },
    ],
  });

  // Generate geosets for each community
  for (const community of communities) {
    const ordinal = getGreekOrdinal(community.num);
    const geoset: any = {
      type: 'geoset',
      id: `dk_${community.num}`,
      name: `${ordinal} Δημοτική Κοινότητα`,
      description: `Θέσεις τοποθέτησης κάδων συλλογής τηγανελαίων στην ${ordinal} Δημοτική Κοινότητα (${community.addresses.length} θέσεις)`,
      color: community.color,
      geometries: community.addresses.map((address, i) => ({
        type: 'point',
        name: address,
        id: toId(address, community.num, i),
        textualDefinition: `${address}, ${ordinal} Δημοτική Κοινότητα, Αθήνα`,
        geojson: null, // To be filled by geocoding script
      })),
    };
    regulation.regulation.push(geoset);
  }

  // Validate counts
  let totalPoints = 0;
  for (const community of communities) {
    totalPoints += community.addresses.length;
    console.log(
      `${getGreekOrdinal(community.num)} Δ.Κ.: ${community.addresses.length} θέσεις`,
    );
  }
  console.log(`\nΣύνολο: ${totalPoints} θέσεις`);

  return regulation;
}

function getGreekOrdinal(num: number): string {
  const ordinals: Record<number, string> = {
    1: '1η',
    2: '2η',
    3: '3η',
    4: '4η',
    5: '5η',
    6: '6η',
    7: '7η',
  };
  return ordinals[num] || `${num}η`;
}

// --- Main ---
const regulation = generateRegulation();

const outputPath = path.join(
  process.cwd(),
  'public',
  'regulation-cooking-oil.json',
);
fs.writeFileSync(outputPath, JSON.stringify(regulation, null, 2));
console.log(`\nSaved to: ${outputPath}`);
